/* ===========================================================
   NAVBAR
   =========================================================== */
.app-navbar {
  background: linear-gradient(135deg, var(--navbar-bg-from) 0%, var(--navbar-bg-to) 100%) !important;
  box-shadow: var(--navbar-shadow);
  min-height: var(--navbar-height);
  padding-top: 0;
  padding-bottom: 0;
  position: sticky;
  top: 0;
  z-index: 1030;
}

/* Logo */
.app-navbar-logo-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  background: rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-md);
  font-size: 1.1rem;
  transition: background var(--transition);
}
.app-navbar-logo-icon:hover { background: rgba(255, 255, 255, 0.25); }
.app-navbar-logo-text {
  font-size: 1.08rem;
  font-weight: 700;
  letter-spacing: -0.01em;
  color: #fff;
}

/* Nav link */
.app-nav-link {
  display: inline-flex !important;
  align-items: center;
  gap: 0.38rem;
  padding: 0.5rem 0.7rem !important;
  font-size: 0.875rem;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.88) !important;
  border-radius: var(--radius-md) !important;
  transition: background var(--transition), color var(--transition) !important;
  white-space: nowrap;
  position: relative;
}
.app-nav-link:hover {
  background: rgba(255, 255, 255, 0.13) !important;
  color: #fff !important;
}
.app-nav-link.active,
.app-nav-link[aria-current="page"] {
  background: rgba(255, 255, 255, 0.18) !important;
  color: #fff !important;
  font-weight: 600;
}
.app-nav-link.active::after {
  content: '';
  position: absolute;
  bottom: 4px;
  left: 50%;
  transform: translateX(-50%);
  width: 50%;
  height: 2px;
  border-radius: var(--radius-pill);
  background: rgba(255, 255, 255, 0.8);
}
.app-nav-link i { font-size: 0.95rem; }

/* Dropdown */
.app-dropdown {
  border: 1px solid rgba(26, 77, 181, 0.12);
  border-radius: var(--radius-lg) !important;
  box-shadow: var(--shadow-lg);
  padding: 0.5rem;
  min-width: 240px;
  background: #fff;
  animation: dropFadeIn 0.14s ease;
}
@keyframes dropFadeIn {
  from { opacity: 0; transform: translateY(-6px) scale(0.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}
.app-dropdown-item {
  display: flex !important;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.55rem 0.75rem !important;
  border-radius: var(--radius-md) !important;
  transition: background var(--transition);
}
.app-dropdown-item:hover,
.app-dropdown-item:focus {
  background: var(--app-surface-2) !important;
  color: var(--bs-primary) !important;
}
.app-dropdown-item.active {
  background: var(--bs-primary-bg-subtle) !important;
  color: var(--bs-primary) !important;
}
.app-dropdown-icon {
  font-size: 1.1rem;
  width: 1.5rem;
  text-align: center;
  margin-top: 1px;
  flex-shrink: 0;
  color: var(--bs-primary);
}
.app-dropdown-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #111827;
  line-height: 1.3;
}
.app-dropdown-desc {
  font-size: 0.76rem;
  color: #6b7280;
  margin-top: 1px;
  line-height: 1.3;
}
.app-dropdown-item:hover .app-dropdown-label { color: var(--bs-primary); }

/* Mobile nav */
@media (max-width: 991.98px) {
  .app-navbar { min-height: 56px; }
  .navbar-collapse {
    background: rgba(10, 30, 90, 0.97);
    border-radius: 0 0 var(--radius-lg) var(--radius-lg);
    padding: 0.75rem 1rem 1rem;
    margin-top: 0.25rem;
    backdrop-filter: blur(8px);
  }
  .app-nav-link { width: 100%; border-radius: var(--radius-md) !important; }
  .app-nav-link.active::after { display: none; }
  .app-dropdown {
    box-shadow: none;
    border: none;
    background: rgba(255, 255, 255, 0.07);
    border-radius: var(--radius-md) !important;
    padding: 0.25rem 0;
    min-width: unset;
  }
  .app-dropdown-item { color: rgba(255,255,255,0.85) !important; }
  .app-dropdown-item:hover { background: rgba(255,255,255,0.1) !important; color: #fff !important; }
  .app-dropdown-item:hover .app-dropdown-label { color: #fff; }
  .app-dropdown-label { color: rgba(255,255,255,0.92); }
  .app-dropdown-desc { color: rgba(255,255,255,0.55); }
  .app-dropdown-icon { color: rgba(255,255,255,0.7); }
  .dropdown-divider { border-color: rgba(255,255,255,0.12) !important; }
  .app-dropdown-item.active {
    background: rgba(255, 255, 255, 0.18) !important;
    color: #fff !important;
  }
  .app-dropdown-item.active .app-dropdown-label { color: #fff; }
  .app-dropdown-item.active .app-dropdown-desc  { color: rgba(255,255,255,0.65); }
  .app-dropdown-item.active .app-dropdown-icon  { color: rgba(255,255,255,0.9); }
}

/* ===========================================================
   PAGE LAYOUT
   =========================================================== */
#page-content {
  max-width: 1380px;
  padding-top: var(--app-content-gap);
  padding-bottom: calc(var(--app-content-gap) * 2);
}

#page-content > * + * { margin-top: var(--app-section-gap); }

#page-content h1, #page-content h2,
#page-content h3, #page-content h4,
#page-content h5 { margin-bottom: var(--app-block-gap); }

#page-content .card-header,
#page-content .card-body,
#page-content .card-footer {
  padding-top: 1rem;
  padding-bottom: 1rem;
}

#page-content .row { row-gap: 1rem; }

#page-content .table-responsive {
  margin-top: 0.5rem;
  border-radius: var(--radius-md);
  -webkit-overflow-scrolling: touch;
}

/* ===========================================================
   CARDS
   =========================================================== */
.card {
  border: 1px solid var(--app-border) !important;
  border-radius: var(--radius-lg) !important;
  box-shadow: var(--shadow-sm) !important;
  background: var(--app-surface);
  transition: box-shadow var(--transition-slow), transform var(--transition-slow);
}
@media (hover: hover) and (pointer: fine) {
  .card:hover {
    box-shadow: var(--shadow-hover) !important;
    transform: translateY(-1px);
  }
}
.card .card-body { border-radius: inherit; }
.card .card-header {
  background: var(--app-surface-2);
  border-bottom: 1px solid var(--app-border);
  border-radius: calc(var(--radius-lg) - 1px) calc(var(--radius-lg) - 1px) 0 0 !important;
  font-weight: 600;
}
.card .card-footer {
  background: var(--app-surface-2);
  border-top: 1px solid var(--app-border);
}
#page-content .card + .card { margin-top: var(--app-content-gap); }

/* ===========================================================
   BUTTONS
   =========================================================== */
.btn {
  border-radius: var(--radius-md) !important;
  font-weight: 600;
  font-size: 0.875rem;
  min-height: var(--control-height);
  letter-spacing: 0.01em;
  transition:
    transform var(--transition),
    box-shadow var(--transition),
    background-color var(--transition),
    border-color var(--transition),
    color var(--transition);
}
.btn-sm {
  min-height: unset;
  font-size: 0.8rem;
  font-weight: 500;
  padding: 0.3rem 0.7rem;
  border-radius: var(--radius-sm) !important;
}
.btn-lg {
  min-height: 2.85rem;
  font-size: 0.95rem;
  border-radius: var(--radius-lg) !important;
}

/* Primary */
.btn-primary {
  background: linear-gradient(135deg, #1a4db5, #1e5ad0);
  border-color: #1a4db5;
  box-shadow: 0 2px 8px rgba(26, 77, 181, 0.35);
}
.btn-primary:hover {
  background: linear-gradient(135deg, #153fa0, #1a4db5);
  border-color: #153fa0;
  box-shadow: 0 4px 16px rgba(26, 77, 181, 0.42);
  transform: translateY(-1px);
}

/* Outline variants hover */
.btn-outline-primary:hover,
.btn-outline-secondary:hover,
.btn-outline-success:hover,
.btn-outline-danger:hover,
.btn-outline-warning:hover,
.btn-outline-info:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Active / press */
.btn:active, .btn-primary:active {
  transform: translateY(0) !important;
  box-shadow: none !important;
  filter: brightness(0.95);
}

/* Disabled */
.btn:disabled, .btn.disabled {
  opacity: 0.48;
  transform: none !important;
  box-shadow: none !important;
  cursor: not-allowed;
}

/* Button group spacing */
#page-content .btn + .btn { margin-left: 0.4rem; }

/* ===========================================================
   FORMS
   =========================================================== */
.form-control,
.form-select {
  border-radius: var(--radius-md) !important;
  border: 1px solid rgba(26, 77, 181, 0.2);
  background-color: var(--app-surface);
  min-height: var(--control-height);
  font-size: 0.875rem;
  transition: border-color var(--transition), box-shadow var(--transition), background-color var(--transition);
}
.form-control:focus,
.form-select:focus {
  border-color: var(--bs-primary);
  box-shadow: 0 0 0 3px rgba(26, 77, 181, 0.14);
  background-color: #fff;
}
.form-control.is-invalid,
.form-select.is-invalid {
  border-color: var(--bs-danger);
  box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
}
.form-control.is-valid,
.form-select.is-valid {
  border-color: var(--bs-success);
  box-shadow: 0 0 0 3px rgba(25, 135, 84, 0.1);
}
.form-label {
  font-weight: 600;
  font-size: 0.82rem;
  letter-spacing: 0.02em;
  color: #4b5563;
  margin-bottom: 0.35rem;
  text-transform: uppercase;
}
.form-control::placeholder { color: #9ca3af; opacity: 1; }
.form-text, .invalid-feedback, .valid-feedback { font-size: 0.8rem; }
.form-check-input:checked {
  background-color: var(--bs-primary);
  border-color: var(--bs-primary);
}
.form-check-input:focus {
  box-shadow: 0 0 0 3px rgba(26, 77, 181, 0.14);
  border-color: var(--bs-primary);
}

/* Input group */
.input-group .form-control { border-radius: var(--radius-md) !important; }
.input-group .btn { border-radius: var(--radius-md) !important; }

/* ===========================================================
   TABLES
   =========================================================== */
.table { --bs-table-bg: transparent; font-size: 0.875rem; }

.table > :not(caption) > * > * {
  border-color: rgba(26, 77, 181, 0.08);
  padding: 0.75rem 0.875rem;
}

.table thead th {
  background: var(--table-head-bg);
  font-weight: 700;
  font-size: 0.75rem;
  letter-spacing: 0.055em;
  text-transform: uppercase;
  color: var(--table-head-color);
  vertical-align: middle;
  padding-top: 0.65rem;
  padding-bottom: 0.65rem;
  border-bottom: 2px solid rgba(26, 77, 181, 0.14);
  white-space: nowrap;
}

.table tbody td { vertical-align: middle; }

.table tbody tr {
  transition: background var(--transition);
}
.table tbody tr:hover { background: var(--table-hover-bg); }

.table-striped > tbody > tr:nth-of-type(odd) > * {
  background-color: var(--table-stripe-bg);
}

.table-responsive .table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  backdrop-filter: blur(4px);
}

.table td, .table th { white-space: nowrap; }

/* ===========================================================
   MODALS
   =========================================================== */
.modal-content,
.card.w-100 {
  border-radius: var(--radius-xl) !important;
  border-color: var(--app-border) !important;
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.22), 0 2px 8px rgba(0, 0, 0, 0.08) !important;
  animation: modalSlideIn 0.22s cubic-bezier(0.34, 1.04, 0.64, 1);
}
@keyframes modalSlideIn {
  from { opacity: 0; transform: translateY(18px) scale(0.97); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* ===========================================================
   BADGES
   =========================================================== */
.badge {
  font-weight: 600;
  font-size: 0.73rem;
  letter-spacing: 0.02em;
  border-radius: var(--radius-sm);
  padding: 0.28em 0.6em;
}
.badge.rounded-pill { border-radius: var(--radius-pill); }

/* ===========================================================
   SEARCH PANEL
   =========================================================== */
.search-panel {
  background: var(--app-surface);
  border: 1px solid var(--app-border);
  border-radius: var(--radius-lg);
  padding: 1rem 1.25rem;
  margin-bottom: 1rem;
  box-shadow: var(--shadow-xs);
}
@media (min-width: 768px) { .search-panel { padding: 1.25rem 1.5rem; } }

.search-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
  flex-wrap: wrap;
  gap: 0.5rem;
}

/* ===========================================================
   PAGE ACTIONS
   =========================================================== */
.page-actions {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
}

/* ===========================================================
   EMPTY STATE
   =========================================================== */
[id$="-empty"].text-secondary {
  padding: 2.5rem 1.5rem;
  text-align: center;
  font-size: 0.9rem;
  border: 1.5px dashed rgba(26, 77, 181, 0.2);
  border-radius: var(--radius-lg);
  color: #6b7280;
  background: var(--app-surface-2);
}

/* ===========================================================
   PAGINATION
   =========================================================== */
.pagination { gap: 0.2rem; }

.page-item .page-link {
  border-radius: var(--radius-md) !important;
  font-weight: 500;
  font-size: 0.875rem;
  border-color: var(--app-border);
  transition: background var(--transition), color var(--transition), box-shadow var(--transition), border-color var(--transition);
}
.page-item.active .page-link {
  background-color: var(--bs-primary);
  border-color: var(--bs-primary);
  box-shadow: 0 2px 8px rgba(26, 77, 181, 0.3);
}

/* ===========================================================
   UTILITIES
   =========================================================== */
.spinner-border-sm { width: 0.8rem; height: 0.8rem; }
#toast-container { z-index: 1090; }

/* Section headings */
.section-title {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  color: #9ca3af;
  margin-bottom: 0.6rem;
}

/* ===========================================================
   FOOTER
   =========================================================== */
#app-footer > div {
  border-color: var(--app-border) !important;
  background: var(--app-surface);
}
